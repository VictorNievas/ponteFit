<nav class="bg-gradient-to-r from-blue-600 to-indigo-700 shadow-lg fixed top-0 w-full z-50">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <a href="/home" class="flex-shrink-0 flex items-center">
          <span class="text-2xl font-bold text-white">PonteFit</span>
        </a>
        <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
          <!-- Dropdown para Sesiones -->
          <div class="relative group">
            <button class="text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition duration-300 ease-in-out flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                <path d="M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14"></path>
                <path d="M2 20h20"></path>
                <path d="M14 12v.01"></path>
              </svg>
              Sesiones
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="ml-1">
                <path d="m6 9 6 6 6-6"/>
              </svg>
            </button>
            <div class="absolute left-0 mt-1 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition duration-200 ease-in-out z-50 transform origin-top-left">
              <div class="py-1" role="menu" aria-orientation="vertical">
                <a href="/descubrir" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-indigo-100 hover:text-indigo-700 transition duration-150 ease-in-out" role="menuitem">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="mr-2">
                    <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                      <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0-18 0m.6-3h16.8M3.6 15h16.8"/>
                      <path d="M11.5 3a17 17 0 0 0 0 18m1-18a17 17 0 0 1 0 18"/>
                    </g>
                  </svg>
                  Descubrir
                </a>
                <a href="/mis_sesiones" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-indigo-100 hover:text-indigo-700 transition duration-150 ease-in-out" role="menuitem">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                  </svg>
                  Mis Sesiones
                </a>
              </div>
            </div>
          </div>
          
          <a href="/mis_ejercicios" class="text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition duration-300 ease-in-out">Mis Ejercicios</a>
          <a href="/mi_dieta" class="text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition duration-300 ease-in-out">Mi Dieta</a>
          <a href="/mis_rutinas" class="text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition duration-300 ease-in-out">Mis Rutinas</a>
          <a href="/about" class="text-white hover:bg-blue-500 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition duration-300 ease-in-out">Acerca de</a>
        </div>
      </div>
      <div class="flex items-center">
        <a href="/mi_perfil" class="flex-shrink-0 group block">
          <div class="flex items-center">
            <div>
              <img class="h-8 w-8 rounded-full border-2 border-white transition duration-300 ease-in-out transform group-hover:scale-110" src="https://media.istockphoto.com/id/1495088043/es/vector/icono-de-perfil-de-usuario-avatar-o-icono-de-persona-foto-de-perfil-s%C3%ADmbolo-de-retrato.jpg?s=612x612&w=0&k=20&c=mY3gnj2lU7khgLhV6dQBNqomEGj3ayWH-xtpYuCXrzk=" alt="Perfil">
            </div>
            <div class="ml-3">
              <p class="text-sm font-medium text-white group-hover:text-gray-300 transition duration-300 ease-in-out">Mi Perfil</p>
            </div>
          </div>
        </a>
        <div class="ml-4 flex items-center sm:ml-6">
          <a href="/login" (click)="logout($event)" class="text-white hover:text-gray-300 px-3 py-2 rounded-md text-sm font-medium transition duration-300 ease-in-out">Cerrar Sesión, {{usuario.username}}</a>
        </div>
      </div>
      <div class="-mr-2 flex items-center sm:hidden">
        <!-- Mobile menu button -->
        <button type="button" (click)="toggleMobileMenu()" class="inline-flex items-center justify-center p-2 rounded-md text-white hover:text-gray-300 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white transition duration-300 ease-in-out" aria-controls="mobile-menu" [attr.aria-expanded]="mobileMenuOpen">
          <span class="sr-only">Abrir menú principal</span>
          <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile menu, show/hide based on menu state. -->
  <div class="sm:hidden" id="mobile-menu" [ngClass]="{'hidden': !mobileMenuOpen}">
    <div class="px-2 pt-2 pb-3 space-y-1">
      <!-- Dropdown para móvil -->
      <div class="relative">
        <button (click)="toggleMobileSesionesMenu()" class="w-full text-left text-white hover:bg-blue-500 px-3 py-2 rounded-md text-base font-medium transition duration-300 ease-in-out flex items-center justify-between">
          <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
              <path d="M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14"></path>
              <path d="M2 20h20"></path>
              <path d="M14 12v.01"></path>
            </svg>
            Sesiones
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" [ngClass]="{'transform rotate-180': mobileSesionesOpen}">
            <path d="m6 9 6 6 6-6"/>
          </svg>
        </button>
        <div class="pl-4 mt-1 space-y-1" [ngClass]="{'hidden': !mobileSesionesOpen}">
          <a href="/descubrir" class="text-white hover:bg-blue-600 px-3 py-2 rounded-md text-base font-medium transition duration-300 ease-in-out flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="mr-2">
              <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                <path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0-18 0m.6-3h16.8M3.6 15h16.8"/>
                <path d="M11.5 3a17 17 0 0 0 0 18m1-18a17 17 0 0 1 0 18"/>
              </g>
            </svg>
            Descubrir
          </a>
          <a href="/mis_sesiones" class="text-white hover:bg-blue-600 px-3 py-2 rounded-md text-base font-medium transition duration-300 ease-in-out flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            Mis Sesiones
          </a>
        </div>
      </div>
      
      <a href="/mis_ejercicios" class="text-white hover:bg-blue-500 px-3 py-2 rounded-md text-base font-medium transition duration-300 ease-in-out">Mis Ejercicios</a>
      <a href="/mi_dieta" class="text-white hover:bg-blue-500 px-3 py-2 rounded-md text-base font-medium transition duration-300 ease-in-out">Mi Dieta</a>
      <a href="/mis_rutinas" class="text-white hover:bg-blue-500 px-3 py-2 rounded-md text-base font-medium transition duration-300 ease-in-out">Mis Rutinas</a>
      <a href="/about" class="text-white hover:bg-blue-500 px-3 py-2 rounded-md text-base font-medium transition duration-300 ease-in-out">Acerca de</a>
      <a href="/login" class="text-white hover:bg-blue-500 px-3 py-2 rounded-md text-base font-medium transition duration-300 ease-in-out">Cerrar Sesión</a>
    </div>
  </div>
</nav>